import{s as be,n as ae,o as ge}from"../chunks/scheduler.Y7QR3Ia1.js";import{S as ke,i as xe,e as p,c as _,a as N,d as h,b as n,f as G,s as y,t as z,h as se,j as S,n as F,g as l,m as ie,l as me,o as W}from"../chunks/index.rNqrds2l.js";import{e as ee}from"../chunks/each.6w4Ej4nR.js";import{c as ne,b as ce,Q as Ne}from"../chunks/appwrite.uMEoJwqV.js";import{D as te,C as le}from"../chunks/ids.oU3rm6Oc.js";function re(s,e,r){const t=s.slice();return t[6]=e[r],t}function de(s,e,r){const t=s.slice();return t[6]=e[r],t}function Ie(s){let e,r,t='<a href="/dashboard/teacherDash"><button class="btn btn-error">Back</button></a>',m,g,v,C,j,d,u="",k,E,$,w='<div class="flex flex-col gap-3 w-full"><div class="flex flex-row pb-2"><div class="flex-1 pl-2 flex flex-row gap-3"><h1 class="font-bold">Arrived</h1> <h1 class="font-bold">Received</h1> <h1 class="font-bold">Name</h1></div> <div class="flex flex-row gap-3 pr-4"><p class="font-bold">Sent</p></div></div></div>',Q,D,V,q,I,P=ee(s[0].filter(he)||s[0].filter(ve)),b=[];for(let a=0;a<P.length;a+=1)b[a]=oe(de(s,P,a));let H=ee(s[0].filter(pe)||s[0].filter(_e)),x=[];for(let a=0;a<H.length;a+=1)x[a]=ue(re(s,H,a));return{c(){e=p("div"),r=p("div"),r.innerHTML=t,m=y(),g=p("div"),v=p("h1"),C=z(fe),j=y(),d=p("div"),d.innerHTML=u,k=y(),E=p("div"),$=p("div"),$.innerHTML=w,Q=y(),D=p("div"),V=p("div");for(let a=0;a<b.length;a+=1)b[a].c();q=y(),I=p("div");for(let a=0;a<x.length;a+=1)x[a].c();this.h()},l(a){e=_(a,"DIV",{class:!0});var c=N(e);r=_(c,"DIV",{class:!0,"data-svelte-h":!0}),se(r)!=="svelte-1eav9tx"&&(r.innerHTML=t),m=S(c),g=_(c,"DIV",{class:!0});var i=N(g);v=_(i,"H1",{class:!0});var A=N(v);C=F(A,fe),A.forEach(h),i.forEach(h),j=S(c),d=_(c,"DIV",{class:!0,"data-svelte-h":!0}),se(d)!=="svelte-5te7ta"&&(d.innerHTML=u),c.forEach(h),k=S(a),E=_(a,"DIV",{class:!0});var M=N(E);$=_(M,"DIV",{class:!0,"data-svelte-h":!0}),se($)!=="svelte-2xwsk0"&&($.innerHTML=w),Q=S(M),D=_(M,"DIV",{class:!0});var R=N(D);V=_(R,"DIV",{class:!0});var O=N(V);for(let L=0;L<b.length;L+=1)b[L].l(O);O.forEach(h),q=S(R),I=_(R,"DIV",{class:!0});var T=N(I);for(let L=0;L<x.length;L+=1)x[L].l(T);T.forEach(h),R.forEach(h),M.forEach(h),this.h()},h(){n(r,"class","flex justify-start items-start"),n(v,"class","text-3xl font-bold text-center"),n(g,"class","flex-1 justify-center items-center"),n(d,"class","flex justify-end items-end"),n(e,"class","flex flex-row bg-base rounded-lg p-3"),n($,"class","flex flex-col items-center justify-center"),n(V,"class","flex flex-col gap-1"),n(I,"class","flex flex-col gap-1"),n(D,"class","flex flex-col gap-1"),n(E,"class","overflow-y-scroll h-screen pb-20")},m(a,c){G(a,e,c),l(e,r),l(e,m),l(e,g),l(g,v),l(v,C),l(e,j),l(e,d),G(a,k,c),G(a,E,c),l(E,$),l(E,Q),l(E,D),l(D,V);for(let i=0;i<b.length;i+=1)b[i]&&b[i].m(V,null);l(D,q),l(D,I);for(let i=0;i<x.length;i+=1)x[i]&&x[i].m(I,null)},p(a,c){if(c&5){P=ee(a[0].filter(he)||a[0].filter(ve));let i;for(i=0;i<P.length;i+=1){const A=de(a,P,i);b[i]?b[i].p(A,c):(b[i]=oe(A),b[i].c(),b[i].m(V,null))}for(;i<b.length;i+=1)b[i].d(1);b.length=P.length}if(c&5){H=ee(a[0].filter(pe)||a[0].filter(_e));let i;for(i=0;i<H.length;i+=1){const A=re(a,H,i);x[i]?x[i].p(A,c):(x[i]=ue(A),x[i].c(),x[i].m(I,null))}for(;i<x.length;i+=1)x[i].d(1);x.length=H.length}},d(a){a&&(h(e),h(k),h(E)),ie(b,a),ie(x,a)}}}function De(s){let e,r='<span class="loading loading-spinner loading-lg mt-5"></span>';return{c(){e=p("div"),e.innerHTML=r,this.h()},l(t){e=_(t,"DIV",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-ee12op"&&(e.innerHTML=r),this.h()},h(){n(e,"class","flex items-center justify-center pt-1")},m(t,m){G(t,e,m)},p:ae,d(t){t&&h(e)}}}function oe(s){let e,r,t,m,g,v,C,j,d,u,k=s[6].Name+"",E,$,w,Q,D=s[6].parents.Name+"",V,q,I,P,b=s[6].class.Name+"",H,x,a,c,i,A,M,R,O,T,L,X;return{c(){e=p("div"),r=p("div"),t=p("input"),g=y(),v=p("input"),j=y(),d=p("div"),u=p("h2"),E=z(k),$=y(),w=p("h3"),Q=z("Parent: "),V=z(D),q=y(),I=p("h3"),P=z("Class: "),H=z(b),x=y(),a=p("div"),c=p("input"),O=y(),T=p("div"),this.h()},l(o){e=_(o,"DIV",{class:!0,id:!0});var f=N(e);r=_(f,"DIV",{class:!0});var U=N(r);t=_(U,"INPUT",{type:!0,class:!0}),g=S(U),v=_(U,"INPUT",{type:!0,class:!0}),j=S(U),d=_(U,"DIV",{class:!0});var B=N(d);u=_(B,"H2",{class:!0});var Y=N(u);E=F(Y,k),Y.forEach(h),$=S(B),w=_(B,"H3",{class:!0});var J=N(w);Q=F(J,"Parent: "),V=F(J,D),J.forEach(h),q=S(B),I=_(B,"H3",{class:!0});var K=N(I);P=F(K,"Class: "),H=F(K,b),K.forEach(h),B.forEach(h),U.forEach(h),x=S(f),a=_(f,"DIV",{});var Z=N(a);c=_(Z,"INPUT",{type:!0,id:!0,name:!0,class:!0}),Z.forEach(h),f.forEach(h),O=S(o),T=_(o,"DIV",{class:!0}),N(T).forEach(h),this.h()},h(){n(t,"type","checkbox"),n(t,"class","checkbox checkbox-success rounded-full disabled:opacity-100 disabled:bg-transparent outline"),t.checked=m=s[6].Arrived||s[6].parents.Arrived,t.disabled=!0,n(v,"type","checkbox"),n(v,"class","checkbox checkbox-info rounded-full disabled:opacity-100 disabled:bg-transparent outline ml-8"),v.checked=C=s[6].Received,v.disabled=!0,n(u,"class","text-xl"),n(w,"class","text-sm"),n(I,"class","text-sm"),n(d,"class","flex flex-col gap-1 pl-6"),n(r,"class","flex-1 flex flex-row gap-4"),n(c,"type","checkbox"),n(c,"id",i=s[6].Name),n(c,"name",A=s[6].Name),c.value=M=s[6].$id,c.checked=R=s[6].Sent,n(c,"class","checkbox checkbox-warning"),n(e,"class","flex flex-row pl-5 pr-5 pt-2"),n(e,"id","studentList"),n(T,"class","w-full h-0.5 bg-slate-500 opacity-25")},m(o,f){G(o,e,f),l(e,r),l(r,t),l(r,g),l(r,v),l(r,j),l(r,d),l(d,u),l(u,E),l(d,$),l(d,w),l(w,Q),l(w,V),l(d,q),l(d,I),l(I,P),l(I,H),l(e,x),l(e,a),l(a,c),G(o,O,f),G(o,T,f),L||(X=me(c,"change",s[2]),L=!0)},p(o,f){f&1&&m!==(m=o[6].Arrived||o[6].parents.Arrived)&&(t.checked=m),f&1&&C!==(C=o[6].Received)&&(v.checked=C),f&1&&k!==(k=o[6].Name+"")&&W(E,k),f&1&&D!==(D=o[6].parents.Name+"")&&W(V,D),f&1&&b!==(b=o[6].class.Name+"")&&W(H,b),f&1&&i!==(i=o[6].Name)&&n(c,"id",i),f&1&&A!==(A=o[6].Name)&&n(c,"name",A),f&1&&M!==(M=o[6].$id)&&(c.value=M),f&1&&R!==(R=o[6].Sent)&&(c.checked=R)},d(o){o&&(h(e),h(O),h(T)),L=!1,X()}}}function ue(s){let e,r,t,m,g,v,C,j,d,u,k=s[6].Name+"",E,$,w,Q,D=s[6].parents.Name+"",V,q,I,P,b=s[6].class.Name+"",H,x,a,c,i,A,M,R,O,T,L,X;return{c(){e=p("div"),r=p("div"),t=p("input"),g=y(),v=p("input"),j=y(),d=p("div"),u=p("h2"),E=z(k),$=y(),w=p("h3"),Q=z("Parent: "),V=z(D),q=y(),I=p("h3"),P=z("Class: "),H=z(b),x=y(),a=p("div"),c=p("input"),O=y(),T=p("div"),this.h()},l(o){e=_(o,"DIV",{class:!0,id:!0});var f=N(e);r=_(f,"DIV",{class:!0});var U=N(r);t=_(U,"INPUT",{type:!0,class:!0}),g=S(U),v=_(U,"INPUT",{type:!0,class:!0}),j=S(U),d=_(U,"DIV",{class:!0});var B=N(d);u=_(B,"H2",{class:!0});var Y=N(u);E=F(Y,k),Y.forEach(h),$=S(B),w=_(B,"H3",{class:!0});var J=N(w);Q=F(J,"Parent: "),V=F(J,D),J.forEach(h),q=S(B),I=_(B,"H3",{class:!0});var K=N(I);P=F(K,"Class: "),H=F(K,b),K.forEach(h),B.forEach(h),U.forEach(h),x=S(f),a=_(f,"DIV",{});var Z=N(a);c=_(Z,"INPUT",{type:!0,id:!0,name:!0,class:!0}),Z.forEach(h),f.forEach(h),O=S(o),T=_(o,"DIV",{class:!0}),N(T).forEach(h),this.h()},h(){n(t,"type","checkbox"),n(t,"class","checkbox checkbox-success rounded-full disabled:opacity-100 disabled:bg-transparent outline"),t.checked=m=s[6].Arrived||s[6].parents.Arrived,t.disabled=!0,n(v,"type","checkbox"),n(v,"class","checkbox checkbox-info rounded-full disabled:opacity-100 disabled:bg-transparent outline ml-8"),v.checked=C=s[6].Received,v.disabled=!0,n(u,"class","text-xl"),n(w,"class","text-sm"),n(I,"class","text-sm"),n(d,"class","flex flex-col gap-1 pl-6"),n(r,"class","flex-1 flex flex-row gap-4"),n(c,"type","checkbox"),n(c,"id",i=s[6].Name),n(c,"name",A=s[6].Name),c.value=M=s[6].$id,c.checked=R=s[6].Sent,n(c,"class","checkbox checkbox-warning"),n(e,"class","flex flex-row pl-5 pr-5 pt-2"),n(e,"id","studentList"),n(T,"class","w-full h-0.5 bg-slate-500 opacity-25")},m(o,f){G(o,e,f),l(e,r),l(r,t),l(r,g),l(r,v),l(r,j),l(r,d),l(d,u),l(u,E),l(d,$),l(d,w),l(w,Q),l(w,V),l(d,q),l(d,I),l(I,P),l(I,H),l(e,x),l(e,a),l(a,c),G(o,O,f),G(o,T,f),L||(X=me(c,"change",s[2]),L=!0)},p(o,f){f&1&&m!==(m=o[6].Arrived||o[6].parents.Arrived)&&(t.checked=m),f&1&&C!==(C=o[6].Received)&&(v.checked=C),f&1&&k!==(k=o[6].Name+"")&&W(E,k),f&1&&D!==(D=o[6].parents.Name+"")&&W(V,D),f&1&&b!==(b=o[6].class.Name+"")&&W(H,b),f&1&&i!==(i=o[6].Name)&&n(c,"id",i),f&1&&A!==(A=o[6].Name)&&n(c,"name",A),f&1&&M!==(M=o[6].$id)&&(c.value=M),f&1&&R!==(R=o[6].Sent)&&(c.checked=R)},d(o){o&&(h(e),h(O),h(T)),L=!1,X()}}}function Ee(s){let e;function r(g,v){return g[1]?De:Ie}let t=r(s),m=t(s);return{c(){e=p("main"),m.c(),this.h()},l(g){e=_(g,"MAIN",{class:!0});var v=N(e);m.l(v),v.forEach(h),this.h()},h(){n(e,"class","text-white")},m(g,v){G(g,e,v),m.m(e,null)},p(g,[v]){t===(t=r(g))&&m?m.p(g,v):(m.d(1),m=t(g),m&&(m.c(),m.m(e,null)))},i:ae,o:ae,d(g){g&&h(e),m.d()}}}let fe="Master List";const he=s=>s.Arrived,ve=s=>s.parents.Arrived,pe=s=>!s.Arrived,_e=s=>!s.parents.Arrived;function we(s,e,r){let t=[],m=!0;async function g(){await ce.listDocuments(te,le.Students,[Ne.limit(200)]).then(d=>{r(0,t=d.documents),r(1,m=!1)}).catch(d=>{console.log(d)})}g();const v=ne.subscribe(["databases."+te+".collections."+le.Students+".documents"],d=>{console.log(d);const u=d.payload;u.Arrived!==void 0&&(t.find(k=>k.$id==u.$id).Arrived=u.Arrived),u.Received!==void 0&&(t.find(k=>k.$id==u.$id).Received=u.Received),u.Sent!==void 0&&(t.find(k=>k.$id==u.$id).Sent=u.Sent),r(0,t=[...t]),console.log(t)}),C=ne.subscribe(["databases."+te+".collections."+le.Parents+".documents"],d=>{console.log(d);const u=d.payload;u.Arrived!==void 0&&(t.find(k=>k.parents.$id==u.$id).parents.Arrived=u.Arrived),u.Received!==void 0&&(t.find(k=>k.$id==u.$id).Received=u.Received),u.Sent!==void 0&&(t.find(k=>k.$id==u.$id).Sent=u.Sent),r(0,t=[...t]),console.log(t)});ge(()=>()=>{C(),v()});async function j(d){await ce.updateDocument(te,le.Students,d.target.value,{Sent:d.target.checked}).then(u=>{}).catch(u=>{console.log(u)})}return[t,m,j]}class Te extends ke{constructor(e){super(),xe(this,e,we,Ee,be,{})}}export{Te as component};
